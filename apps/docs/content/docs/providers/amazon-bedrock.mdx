---
title: AmazonBedrock
---

AISDK provides first-class support for AmazonBedrock with fully typed model APIs.
Model capabilities are enforced at compile time using Rust's type system.
This prevents model capability mismatches and guarantees the selected model is valid for the task (e.g. tool calling).


## Installation

Enable the AmazonBedrock provider feature:

```bash
cargo add aisdk --features amazon-bedrock
```

This installs AISDK with the AmazonBedrock provider enabled. Once you have enabled the AmazonBedrock provider, you can use all aisdk <Link href="/docs#core-features">features</Link> with it.

## Create a Provider Instance

To create a provider instance, call `AmazonBedrock::model_name()`, where **model_name** is the AmazonBedrock model you want to use.
Model names are exposed as snake-case methods.

```rust
use aisdk::providers::AmazonBedrock;

let amazon-bedrock = AmazonBedrock::anthropic_claude_3_5_haiku_20241022_v1_0();
```

This initializes the provider with:

* Model: `"anthropic.claude-3-5-haiku-20241022-v1:0"`
* API key from environment (if set with `BEDROCK_API_KEY`)
* AmazonBedrock's default base URL (https://bedrock-runtime.us-east-1.amazonaws.com/openai/)

## Basic Text Generation

Example using [LanguageModelRequest](https://docs.rs/aisdk/latest/aisdk/core/struct.LanguageModelRequest.html) for text generation.

```rust
use aisdk::{
    core::LanguageModelRequest,
    providers::AmazonBedrock,
};

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {

    let amazon-bedrock = AmazonBedrock::anthropic_claude_3_5_haiku_20241022_v1_0();

    let response = LanguageModelRequest::builder()
        .model(amazon-bedrock)
        .prompt("Write a short poem about Rust.")
        .build()
        .generate_text()
        .await?;

    println!("Response text: {:?}", response.text());
    Ok(())
}
```

## Provider Settings

You can customize provider configuration using `AmazonBedrock::builder()`

### API Key

```rust
let amazon-bedrock = AmazonBedrock::<AnthropicClaude35Haiku20241022V10>::builder()
    .api_key("your-api-key")
    .build()?;
```

If not specified, AISDK uses the `BEDROCK_API_KEY` environment variable.

### Base URL

Useful when routing through a proxy, gateway, or self-hosted compatible endpoint.

```rust
let amazon-bedrock = AmazonBedrock::<AnthropicClaude35Haiku20241022V10>::builder()
    .base_url("https://bedrock-runtime.us-east-1.amazonaws.com/openai/")
    .build()?;
```

### Provider Name

For logging, analytics, and observability.

```rust
let amazon-bedrock = AmazonBedrock::<AnthropicClaude35Haiku20241022V10>::builder()
    .provider_name("AmazonBedrock")
    .build()?;
```

### Full Custom Configuration Example

```rust
let amazon-bedrock = AmazonBedrock::<AnthropicClaude35Haiku20241022V10>::builder()
    .api_key("your-api-key")
    .base_url("https://bedrock-runtime.us-east-1.amazonaws.com/openai/")
    .provider_name("AmazonBedrock")
    .build()?;
```

## Dynamic Model Selection

For runtime model selection (e.g., loading models from config files), use `DynamicModel`:

### Using model_name() Method with Default Settings

```rust
use aisdk::providers::AmazonBedrock;

// Specify model as a string at runtime
let amazon-bedrock = AmazonBedrock::model_name("anthropic.claude-3-5-haiku-20241022-v1:0");
```

### Using Builder Pattern with Custom Settings

```rust
use aisdk::{
    core::DynamicModel,
    providers::AmazonBedrock,
};

let amazon-bedrock = AmazonBedrock::<DynamicModel>::builder()
    .model_name("anthropic.claude-3-5-haiku-20241022-v1:0")
    .api_key("your-api-key")
		.base_url("https://bedrock-runtime.us-east-1.amazonaws.com/openai/")
    .build()?;
```

<Callout type="warn">
**Warning**: When using `DynamicModel`, model capabilities are **not validated at compile time**. 
This means there's no guarantee the model supports requested features (e.g., tool calls, structured output).
For compile-time safety, use the typed methods like `AmazonBedrock::anthropic_claude_3_5_haiku_20241022_v1_0()`.
</Callout>

## Next Steps

* Take a deeper look at text generation features [Generating Text](/docs/concepts/language-model-request#generate_text) / [Streaming Text](/docs/concepts/language-model-request#stream_text)
* Explore [Structured Output](/docs/concepts/structured-output) for reliable agent data.
* Learn how to create [Custom Tools](/docs/concepts/tools).
* Learn more about [Agents](/docs/concepts/agents).
